# mg単価計算機 ワイヤーフレーム

**作成日**: 2025-12-17
**公開予定**: 2026年1月
**URL**: `/tools/mg-calculator`

---

## 1. 概要

サプリメントのmg単価（成分1mgあたりの価格）を計算し、コストパフォーマンスを可視化するツール。

### 目的

- ユーザーが手持ちのサプリのコスパを簡単に計算できる
- Suptiaの商品データベースへの導線を作る
- 外部サイトに埋め込み可能にして被リンク獲得

---

## 2. 画面設計

### 2-1. メイン画面（デスクトップ）

```
┌─────────────────────────────────────────────────────────────┐
│  [Logo] Suptia                              [ログイン]      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │   💊 サプリのコスパ計算機                          │   │
│  │                                                     │   │
│  │   手持ちのサプリメントの「mg単価」を計算して       │   │
│  │   本当にお得かどうかを確認しましょう               │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌───────────────────────┐  ┌───────────────────────┐      │
│  │ 📦 商品情報を入力     │  │ 📊 計算結果          │      │
│  ├───────────────────────┤  ├───────────────────────┤      │
│  │                       │  │                       │      │
│  │ 商品価格              │  │ 1日あたりコスト      │      │
│  │ ┌─────────────┐ 円   │  │ ┌─────────────────┐  │      │
│  │ │    1,980    │      │  │ │      33.0       │  │      │
│  │ └─────────────┘      │  │ └─────────────────┘  │      │
│  │                       │  │         円/日       │      │
│  │ 内容量（粒数）        │  │                       │      │
│  │ ┌─────────────┐ 粒   │  │ mg単価              │      │
│  │ │     60      │      │  │ ┌─────────────────┐  │      │
│  │ └─────────────┘      │  │ │      0.33       │  │      │
│  │                       │  │ └─────────────────┘  │      │
│  │ 1粒あたり成分量       │  │         円/mg        │      │
│  │ ┌─────────────┐ mg   │  │                       │      │
│  │ │    1000     │      │  │ 30日分コスト         │      │
│  │ └─────────────┘      │  │ ┌─────────────────┐  │      │
│  │                       │  │ │      990        │  │      │
│  │ 1日の摂取量           │  │ └─────────────────┘  │      │
│  │ ┌─────────────┐ 粒   │  │         円          │      │
│  │ │      1      │      │  │                       │      │
│  │ └─────────────┘      │  │ 90日分コスト         │      │
│  │                       │  │ ┌─────────────────┐  │      │
│  │ [  計算する  ]        │  │ │     2,970       │  │      │
│  │                       │  │ └─────────────────┘  │      │
│  └───────────────────────┘  │         円          │      │
│                             │                       │      │
│                             │ ─────────────────────│      │
│                             │                       │      │
│                             │ 📈 コスパ判定        │      │
│                             │ ┌─────────────────┐  │      │
│                             │ │  💡 良好        │  │      │
│                             │ │  0.33円/mg は   │  │      │
│                             │ │  平均より安い   │  │      │
│                             │ └─────────────────┘  │      │
│                             │                       │      │
│                             │ [結果をシェア 📤]    │      │
│                             │ [URLをコピー 🔗]     │      │
│                             └───────────────────────┘      │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  💡 Suptiaで同じ成分の最安値を探す                  │   │
│  │                                                     │   │
│  │  [ビタミンC] [ビタミンD] [マルチビタミン] [鉄分]   │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2-2. モバイル画面

```
┌─────────────────────────┐
│ [≡] Suptia     [👤]    │
├─────────────────────────┤
│                         │
│  💊 サプリのコスパ計算機│
│                         │
│  手持ちのサプリの       │
│  「mg単価」を計算       │
│                         │
├─────────────────────────┤
│                         │
│  📦 商品情報を入力      │
│                         │
│  商品価格               │
│  ┌─────────────────┐   │
│  │      1,980      │円  │
│  └─────────────────┘   │
│                         │
│  内容量                 │
│  ┌─────────────────┐   │
│  │       60        │粒  │
│  └─────────────────┘   │
│                         │
│  1粒あたり成分量        │
│  ┌─────────────────┐   │
│  │      1000       │mg  │
│  └─────────────────┘   │
│                         │
│  1日の摂取量            │
│  ┌─────────────────┐   │
│  │        1        │粒  │
│  └─────────────────┘   │
│                         │
│  [     計算する     ]   │
│                         │
├─────────────────────────┤
│                         │
│  📊 計算結果            │
│                         │
│  ┌─────────────────┐   │
│  │  1日: 33.0円    │   │
│  │  mg単価: 0.33円 │   │
│  │  30日: 990円    │   │
│  │  90日: 2,970円  │   │
│  └─────────────────┘   │
│                         │
│  📈 コスパ判定: 💡良好  │
│                         │
│  [シェア] [URLコピー]   │
│                         │
├─────────────────────────┤
│                         │
│  💡 Suptiaで最安値検索  │
│  [ビタミンC] [ビタミンD]│
│                         │
└─────────────────────────┘
```

---

## 3. コンポーネント設計

### ディレクトリ構造

```
apps/web/src/app/tools/
├── layout.tsx              # ツール共通レイアウト
├── page.tsx                # ツール一覧ページ
├── mg-calculator/
│   ├── page.tsx            # mg単価計算機ページ（SSR）
│   ├── calculator.tsx      # 計算機本体（Client Component）
│   ├── result-card.tsx     # 結果表示カード
│   ├── share-buttons.tsx   # シェアボタン
│   └── cta-section.tsx     # CTA（Suptiaへの導線）
└── embed/
    └── mg-calculator/
        └── page.tsx        # 埋め込み用（iframe対応）
```

### コンポーネント詳細

#### calculator.tsx

```tsx
"use client";

interface CalculatorInputs {
  price: number; // 商品価格（円）
  quantity: number; // 内容量（粒）
  mgPerUnit: number; // 1粒あたり成分量（mg）
  dailyIntake: number; // 1日の摂取量（粒）
}

interface CalculatorResults {
  dailyCost: number; // 1日あたりコスト
  mgPrice: number; // mg単価
  cost30Days: number; // 30日分コスト
  cost90Days: number; // 90日分コスト
  rating: "excellent" | "good" | "average" | "poor";
}
```

---

## 4. 機能要件

### 4-1. 入力バリデーション

| フィールド      | 型     | 最小値 | 最大値  | デフォルト |
| --------------- | ------ | ------ | ------- | ---------- |
| 商品価格        | number | 1      | 999,999 | -          |
| 内容量          | number | 1      | 9,999   | -          |
| 1粒あたり成分量 | number | 0.001  | 99,999  | -          |
| 1日の摂取量     | number | 1      | 99      | 1          |

### 4-2. 計算ロジック

```typescript
// 1日あたりコスト
dailyCost = (price / quantity) * dailyIntake;

// mg単価
mgPrice = price / (quantity * mgPerUnit);

// 30日/90日コスト
cost30Days = dailyCost * 30;
cost90Days = dailyCost * 90;
```

### 4-3. コスパ判定基準

| 評価      | mg単価基準    | 表示          |
| --------- | ------------- | ------------- |
| excellent | < 0.1円/mg    | 🏆 非常に良い |
| good      | 0.1〜0.5円/mg | 💡 良好       |
| average   | 0.5〜1.0円/mg | ⚖️ 普通       |
| poor      | > 1.0円/mg    | 💸 割高       |

※ 成分によって基準が異なるため、将来的には成分別の基準を設ける

### 4-4. URLパラメータ対応

結果をURLで共有可能にする：

```
/tools/mg-calculator?p=1980&q=60&mg=1000&d=1
```

| パラメータ | 説明                         |
| ---------- | ---------------------------- |
| p          | price（価格）                |
| q          | quantity（内容量）           |
| mg         | mgPerUnit（1粒あたり成分量） |
| d          | dailyIntake（1日摂取量）     |

---

## 5. SEO対策

### メタ情報

```tsx
export const metadata: Metadata = {
  title: "サプリのコスパ計算機 - mg単価で本当のお得を知る | Suptia",
  description:
    "サプリメントの1mgあたりの価格（mg単価）を計算して、本当にコスパが良いか確認できる無料ツール。30日分・90日分のコストも自動計算。",
  keywords: ["サプリ", "コスパ", "計算", "mg単価", "比較"],
};
```

### 構造化データ（JSON-LD）

```json
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "サプリのコスパ計算機",
  "description": "サプリメントのmg単価を計算するツール",
  "url": "https://suptia.com/tools/mg-calculator",
  "applicationCategory": "HealthApplication",
  "operatingSystem": "All",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "JPY"
  }
}
```

### 解説コンテンツ（500文字以上）

ページ下部に以下のセクションを追加：

1. **mg単価とは？** - 定義と重要性
2. **なぜmg単価で比較するのか** - 粒数や価格だけでは分からない理由
3. **Suptiaの5つの評価軸** - 称号システムの紹介
4. **よくある質問** - FAQ形式

---

## 6. 埋め込み対応

### 埋め込みコード

```html
<!-- Suptia コスパ計算機 -->
<iframe
  src="https://suptia.com/tools/embed/mg-calculator"
  width="400"
  height="600"
  frameborder="0"
  title="サプリのコスパ計算機 by Suptia"
>
</iframe>
```

### 埋め込み版の仕様

- ヘッダー・フッター非表示
- 最小限のCTA（「Suptiaで詳しく見る」のみ）
- 背景色カスタマイズ対応（?bg=ffffff）
- レスポンシブ対応（max-width: 100%）

---

## 7. AIコンシェルジュ連携

計算結果をAIコンシェルジュが引用できるようにAPIエンドポイントを用意：

```
GET /api/tools/mg-calculator?p=1980&q=60&mg=1000&d=1

Response:
{
  "dailyCost": 33.0,
  "mgPrice": 0.033,
  "cost30Days": 990,
  "cost90Days": 2970,
  "rating": "excellent",
  "ratingLabel": "非常に良い"
}
```

---

## 8. 実装スケジュール

| 週    | タスク                           |
| ----- | -------------------------------- |
| 1週目 | UI実装（入力フォーム・結果表示） |
| 2週目 | 計算ロジック・URL共有機能        |
| 3週目 | SEOコンテンツ・構造化データ      |
| 4週目 | 埋め込み対応・公開               |

---

## 更新履歴

| 日付       | 内容                     |
| ---------- | ------------------------ |
| 2025-12-17 | ワイヤーフレーム初版作成 |
